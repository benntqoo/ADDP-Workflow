# Claude 宪法使用指南

本指南将帮助您理解和使用 Claude 协作宪法，实现高效的 AI 辅助开发。

## 📖 什么是 Claude 宪法？

Claude 宪法（CLAUDE_CONSTITUTION.md）是一份定义 AI 与人类开发者协作模式的指导文件。它不是简单的配置文件，而是一个完整的协作体系。

### 核心组成部分

1. **Claude 核心特性** - 理解 Claude 的思维模式
2. **工作流定义** - 明确的协作流程
3. **工具使用规范** - 高效使用各种工具
4. **项目规范定制** - 个性化的项目配置

## 🎯 使用场景

### 场景 1：启动新项目

```bash
# 步骤 1：复制宪法模板
cp claude/constitution/CLAUDE_CONSTITUTION.md /my-project/CLAUDE.md

# 步骤 2：启动元工作流
cd /my-project
# 对 Claude 说：
"帮我定制 CLAUDE.md 的 E 部分"
```

Claude 会通过对话了解您的：
- 项目类型和技术栈
- 开发习惯和工具
- 团队规模和流程
- 特殊需求和约束

### 场景 2：接入现有项目

```bash
# 使用遗留项目模式
cd /existing-project

# 对 Claude 说：
"/onboard"
```

Claude 会：
1. 扫描现有代码结构
2. 识别隐式规范
3. 生成适配性的配置
4. 提供渐进改进建议

### 场景 3：日常开发协作

```yaml
# 深度开发模式
用户: "实现用户认证功能"
Claude: 
  1. 深度分析需求
  2. 创建 Todo 列表
  3. 系统化实施
  4. 主动验证

# 快速执行模式
用户: "修复这个 bug"
Claude: 立即执行，最少解释
```

## 📋 宪法的主要部分

### A. 深度开发工作流
适用于复杂任务，Claude 会：
- 深入分析问题
- 提供多个方案
- 创建详细计划
- 确保质量

### B. 探索式工作流
适用于学习和理解，Claude 会：
- 解释复杂概念
- 追踪代码流程
- 绘制架构图
- 分享最佳实践

### C. 协作模式
- **深度对话模式**: 复杂问题的迭代讨论
- **快速执行模式**: 明确任务的直接执行
- **守护者模式**: 主动发现和预防问题

### D. 工具规范
- TodoWrite 使用时机
- 批量操作优化
- Task Agent 场景

### E. 项目定制（最重要）
通过元工作流生成：
- 项目词汇表
- 快捷命令
- 架构约定
- Claude 配置

## 🔧 定制您的宪法

### 1. 初次定制
```bash
# 启动元工作流
/meta

# 或直接说
"帮我定制项目规范"
```

### 2. 更新规范
```bash
# 当项目演进时
"我们引入了 GraphQL，更新一下规范"

# 当发现问题时
"测试总是被忽略，加个强制规则"
```

### 3. 团队同步
```bash
# 生成团队版本
"基于我们的讨论，生成一份团队规范"

# 导出最佳实践
"总结这个月的开发经验到规范中"
```

## 💡 最佳实践

### DO ✅
1. **充分利用元工作流** - 让 Claude 主导定制过程
2. **保持规范更新** - 项目演进时及时更新
3. **团队共享** - 确保所有人使用相同规范
4. **迭代优化** - 根据实际效果调整

### DON'T ❌
1. **手动编写 E 部分** - 应该通过对话生成
2. **一成不变** - 规范应该随项目演进
3. **忽视反馈** - Claude 的建议通常很有价值
4. **过度配置** - 保持简洁实用

## 🎓 进阶技巧

### 1. 多模式切换
```yaml
# 在同一对话中切换模式
"先帮我深度分析这个模块"  # 深度模式
"现在快速修复这个 bug"    # 快速模式
```

### 2. 规范继承
```yaml
# 创建基础规范
公司级: company-claude.md
团队级: team-claude.md
项目级: project-claude.md
```

### 3. 条件配置
```yaml
# 根据上下文调整行为
if (紧急修复):
  解释详细度: concise
  自动测试: disabled
else:
  解释详细度: moderate
  自动测试: enabled
```

## 🚀 快速参考

### 常用元工作流触发词
- "帮我定制规范"
- "更新项目配置"
- "优化协作流程"
- "调整 Claude 行为"

### 配置调整示例
```yaml
# 让 Claude 更主动
主动建议: enabled
问题响应: immediate

# 让 Claude 更谨慎
改动保守度: high
兼容性检查: strict
```

## 📚 深入学习

1. 阅读完整宪法：`constitution/CLAUDE_CONSTITUTION.md`
2. 查看实际案例：`examples/META_WORKFLOW_EXAMPLE.md`
3. 了解命令系统：`commands/COMMANDS_SUMMARY.md`
4. 对比其他方案：`guides/MARKET_ANALYSIS.md`

## ❓ 常见问题

**Q: 宪法和普通配置有什么区别？**
A: 宪法定义协作模式和原则，不只是工具配置。

**Q: 必须完全遵守宪法吗？**
A: 宪法是指导原则，可以根据实际情况灵活调整。

**Q: 如何知道宪法是否有效？**
A: 观察开发效率、代码质量和团队满意度的变化。

---

*记住：宪法是活的文档，应该随着您的项目和团队一起成长。*