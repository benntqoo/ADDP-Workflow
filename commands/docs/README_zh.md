# 命令系统文档

*[English](README.md) | 中文*

## 概述

Claude Code 命令系统为 AI 辅助开发提供结构化的工作流程。这些命令帮助管理项目、维护上下文，并确保人类与 AI 之间的协作一致性。

## 核心命令（8个）

### 项目管理

#### `/start` - 项目快速启动
- **用途**：快速理解项目结构和目的
- **使用时机**：首次接触项目时
- **功能说明**：
  - 扫描项目结构
  - 读取关键文件（README、package.json等）
  - 创建初始理解基线
  - 生成 PROJECT_CONTEXT.md

#### `/sync` - 状态同步器
- **用途**：恢复之前的工作状态
- **使用时机**：每次工作会话开始时
- **功能说明**：
  - 读取上次会话状态
  - 检查 git 状态和最近提交
  - 分析当前工作重点
  - 提供工作建议

#### `/context` - 上下文检查点
- **用途**：验证理解的一致性
- **使用时机**：复杂更改后或关键任务前
- **功能说明**：
  - 将当前理解与基线比较
  - 识别知识差距
  - 确保与项目目标一致

### 开发支持

#### `/plan` - 任务规划
- **用途**：设计和规划新功能
- **使用时机**：开始任何新开发前
- **参数**：`[任务描述]`
- **功能说明**：
  - 分析需求
  - 创建技术设计
  - 分解为子任务
  - 识别风险和依赖

#### `/doc` - 文档维护
- **用途**：保持文档最新
- **使用时机**：重大更改后
- **参数**：`api|readme|changelog|arch`
- **功能说明**：
  - 更新指定文档
  - 保持一致性
  - 生成缺失部分

### 知识管理

#### `/learn` - 决策记录
- **用途**：捕获重要决策和学习
- **使用时机**：做出技术决策后
- **参数**：`[决策内容]`
- **功能说明**：
  - 记录到 DECISIONS.md
  - 维护决策历史
  - 防止知识流失

#### `/meta` - 项目规范
- **用途**：定义项目特定的规则和约定
- **使用时机**：新项目或重大变更时
- **功能说明**：
  - 创建/更新 CLAUDE.md
  - 建立编码标准
  - 定义项目词汇

#### `/update-spec` - 规范更新
- **用途**：将决策固化到项目规范中
- **使用时机**：验证新模式或方法后
- **参数**：`review|section "内容"`
- **功能说明**：
  - 更新 CLAUDE.md
  - 确保规范反映当前实践

## SDK 开发命令（5个）

### `/sdk-design` - API 设计助手
- **用途**：设计一致、用户友好的 API
- **参数**：`[功能描述]`
- **输出**：API 规范、方法签名、设计模式

### `/sdk-example` - 示例生成
- **用途**：创建全面的使用示例
- **参数**：`basic|advanced|integration|all`
- **输出**：不同场景的工作代码示例

### `/sdk-test` - 测试套件生成
- **用途**：生成全面的测试覆盖
- **参数**：`unit|integration|compat|performance|all`
- **输出**：各种测试场景的测试文件

### `/sdk-doc` - 文档生成
- **用途**：创建专业的 SDK 文档
- **参数**：`api|guide|migration|all`
- **输出**：API 参考、指南、迁移文档

### `/sdk-release` - 发布准备
- **用途**：准备 SDK 发布
- **参数**：`major|minor|patch|check`
- **输出**：版本更新、更改日志、发布清单

## 最佳实践

1. **每次会话以 `/sync` 开始** - 永不丢失上下文
2. **编码前使用 `/plan`** - 先思考后构建
3. **用 `/learn` 记录决策** - 构建制度化知识
4. **用 `/update-spec` 更新规范** - 保持文档最新
5. **用 `/context` 检查理解** - 确保对齐

## 命令工作流

```mermaid
graph LR
    A[新会话] --> B[/sync]
    B --> C{任务类型}
    C -->|新功能| D[/plan]
    C -->|Bug修复| E[/context]
    C -->|文档| F[/doc]
    D --> G[开发]
    E --> G
    G --> H[/learn]
    H --> I[/update-spec]
```

## 创建的文件结构

```
.claude/
├── PROJECT_CONTEXT.md    # 项目理解
├── DECISIONS.md          # 决策历史
├── settings.local.json   # 项目设置
└── state/
    ├── last-session.yml  # 会话状态
    └── initial-scan.json # 基线理解
```

## 使用技巧

- 命令是无状态的 - 每次执行都是独立的
- 所有命令在更新文件时都会保留现有内容
- 使用参数控制命令行为
- 命令可以链接以实现复杂工作流

---

详细使用示例请参见[工作流指南](../../guides/WORKFLOW_GUIDE.md)