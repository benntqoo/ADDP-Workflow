---
arguments: required
format: "[錯誤信息|問題描述]"
examples:
  - "/debug TypeError: Cannot read property 'x' of undefined"
  - "/debug 用戶登錄總是失敗"
  - "/debug API 響應時間過長"
---

# 智能調試助手 - 問題診斷專家

專注於**診斷和修復具體問題**，與 `/check` 的區別：
- `/debug`：解決具體錯誤和問題（問題導向）
- `/check`：評估整體代碼質量（質量導向）

## 🔍 調試流程

### 1. 問題分析
- 解析錯誤信息
- 識別問題類型
- 定位可能原因
- 評估影響範圍

### 2. 上下文收集
- 查找相關代碼
- 分析調用堆棧
- 檢查最近變更
- 收集環境信息

### 3. 根因定位
```markdown
## 問題診斷

### 錯誤類型
[分類：語法/邏輯/配置/環境]

### 可能原因
1. [最可能的原因]
2. [次要可能原因]
3. [其他可能]

### 關鍵代碼
[定位到的問題代碼]

### 觸發條件
[什麼情況下會發生]
```

### 4. 解決方案
- **快速修復**：立即解決問題的方法
- **根本解決**：徹底解決的方案
- **預防措施**：避免再次發生

### 5. 實施修復
1. 顯示需要修改的代碼
2. 解釋修改原因
3. 執行修復
4. 添加防禦性編程

### 6. 驗證修復
- 運行相關測試
- 檢查問題是否解決
- 確認無副作用
- 添加新的測試用例

## 🛠️ 調試技巧

### 常見問題模式
1. **空值錯誤**
   - 檢查數據初始化
   - 添加空值判斷
   - 使用可選鏈

2. **異步問題**
   - 檢查 Promise 處理
   - 確認 await 使用
   - 處理競態條件

3. **類型錯誤**
   - 驗證數據類型
   - 檢查類型轉換
   - 使用類型守衛

4. **性能問題**
   - 分析熱點代碼
   - 檢查循環效率
   - 優化數據結構

## 📊 輸出格式

```markdown
## 調試報告

### 問題摘要
[一句話說明問題]

### 根本原因
[詳細解釋原因]

### 解決方案
```[語言]
// 修復前
[原始代碼]

// 修復後
[修復代碼]
```

### 預防建議
- [如何避免類似問題]

### 相關測試
[建議添加的測試]
```

## 💡 調試原則

1. **復現優先**：先確保能復現問題
2. **最小案例**：簡化到最小復現案例
3. **逐步排除**：系統地排除可能性
4. **記錄過程**：為未來參考記錄

讓調試變得簡單高效！