# DECISIONS.md - 技術決策記錄

## 2025-01-21: Output Styles系統設計決策

### 決策1: 使用YAML Frontmatter格式
**問題**: Output Styles文件需要元數據來描述風格用途
**決策**: 採用YAML frontmatter格式
**理由**: 
- 與Claude Code現有系統兼容
- 易於解析和驗證
- 支持未來擴展（如變量、標籤等）

### 決策2: 部署位置選擇
**問題**: Output Styles應該安裝到哪裡？
**決策**: 安裝到 `~/.claude/output-styles/`
**理由**:
- 與commands目錄結構保持一致
- 全局可用，跨項目共享
- 易於管理和更新

### 決策3: 配置優先級
**問題**: 多種配置方式的優先級如何確定？
**決策**: Command > Project > Global > Default
**理由**:
- 命令行覆蓋提供最大靈活性
- 項目配置允許團隊標準化
- 全局配置提供個人偏好
- 默認保證基本功能

### 決策4: 風格分類策略
**問題**: 如何組織不同類型的Output Styles？
**決策**: 按角色和用途分類，而非技術棧
**理由**:
- 角色導向更符合實際使用場景
- 可以跨技術棧使用同一風格
- 便於用戶理解和選擇

### 決策5: 自動與手動安裝並存
**問題**: 如何平衡自動化和用戶控制？
**決策**: 提供自動部署腳本和手動安裝指南
**理由**:
- 自動化適合快速開始
- 手動安裝滿足定制需求
- 企業環境可能需要手動控制

## 經驗教訓

### 文檔清晰度的重要性
- 初始文檔只提到命令使用，用戶反饋配置方法不明確
- 解決：在主README中添加詳細的安裝和配置說明
- 教訓：配置說明應該在最顯眼的位置

### 路徑處理的跨平台考慮
- Windows和Unix路徑格式差異導致部署腳本問題
- 解決：使用適合各平台的路徑格式
- 教訓：始終測試跨平台兼容性

### 用戶工作流的理解
- 用戶提出的架構討論→開發的工作流切換需求
- 解決：創建適合不同開發階段的風格
- 教訓：風格設計要考慮實際開發流程