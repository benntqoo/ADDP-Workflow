---
arguments: optional
format: "[模块名|api|db|frontend|all]"
examples:
  - "/perf api - 分析 API 接口性能"
  - "/perf db - 分析数据库查询性能"
  - "/perf frontend - 分析前端性能"
  - "/perf auth - 分析 auth 模块性能"
  - "/perf all - 全面性能分析"
---
性能分析和优化工具：

## 性能分析

### 1. 代码层面
- **时间复杂度**：算法效率分析
- **空间复杂度**：内存使用评估
- **热点函数**：识别性能瓶颈
- **循环优化**：嵌套循环检测

### 2. 系统层面
- **数据库查询**：N+1 问题、慢查询
- **网络请求**：并发限制、超时设置
- **缓存策略**：命中率分析
- **资源使用**：CPU、内存、I/O

### 3. 前端性能（如适用）
- **加载时间**：首屏渲染、资源加载
- **运行时性能**：重渲染、内存泄漏
- **包体积**：依赖分析、代码分割
- **用户体验**：交互响应时间

## 优化建议

### 算法优化
```yaml
识别模式:
  - O(n²) → O(n log n)
  - 重复计算 → 记忆化
  - 递归 → 动态规划
  - 串行 → 并行处理
```

### 数据库优化
- 添加必要索引
- 优化查询语句
- 使用批量操作
- 实施读写分离

### 缓存策略
- 应用级缓存（Redis）
- 数据库查询缓存
- CDN 静态资源
- 浏览器缓存策略

### 架构优化
- 异步处理（消息队列）
- 服务拆分（微服务）
- 负载均衡
- 水平扩展方案

## 性能基准

### 建立基准
- API 响应时间 < 200ms
- 页面加载时间 < 3s
- 数据库查询 < 100ms
- 内存使用稳定

### 持续监控
- 性能测试自动化
- 生产环境监控
- 告警阈值设置
- 性能趋势分析

## 输出内容
- 性能报告 → `docs/development/performance/`
- 优化方案 → TodoWrite 任务列表
- 测试脚本 → `tests/performance/`