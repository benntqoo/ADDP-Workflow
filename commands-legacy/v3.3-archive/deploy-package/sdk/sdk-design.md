---
arguments: required
format: "[功能描述|API 名稱]"
examples:
  - "/sdk-design 緩存系統 - 設計緩存 API"
  - "/sdk-design 數據驗證器 - 設計驗證 API"
  - "/sdk-design HTTP 客戶端 - 設計請求接口"
---

# SDK 設計助手

我將幫你設計優雅、直觀、穩定的 API 接口：

## 🎯 設計流程

### 1. 需求分析
- **使用場景**：誰會用？怎麼用？
- **核心價值**：解決什麼問題？
- **設計目標**：易用性、擴展性、性能
- **約束條件**：兼容性、依賴、平台

### 2. API 設計原則檢查
```markdown
✓ 一致性：命名、參數順序、返回值
✓ 簡潔性：最少驚訝原則
✓ 完整性：覆蓋所有使用場景
✓ 可發現性：IDE 友好的命名
✓ 錯誤處理：清晰的錯誤信息
```

### 3. 接口設計方案

#### 公共 API
```[語言]
// 核心接口設計
// 包含：類/函數簽名、參數說明、返回值

// 使用示例
// 展示最常見的使用方式
```

#### 設計決策
- **為什麼這樣設計**：[理由]
- **替代方案**：[其他考慮過的設計]
- **取捨說明**：[為什麼選擇當前方案]

### 4. 擴展性設計
- 插件機制
- 鉤子/回調
- 配置選項
- 未來擴展點

### 5. 兼容性策略
- 版本策略
- 廢棄計劃
- 遷移路徑
- 破壞性變更處理

## 🎨 設計模式建議

### 建造者模式（複雜配置）
```javascript
client.request()
  .method('GET')
  .url('/api/users')
  .header('Authorization', token)
  .timeout(5000)
  .send();
```

### 函數式風格（簡單操作）
```python
# 純函數，無副作用
result = validate(data, schema)
transformed = transform(data, options)
```

### 面向對象（狀態管理）
```java
Cache cache = new Cache(config);
cache.set("key", value, ttl);
Optional<Value> value = cache.get("key");
```

## 💡 輸出內容

1. **API 規範文檔**
2. **設計理由說明**
3. **使用場景示例**
4. **版本遷移策略**
5. **最佳實踐建議**

## 🚫 常見陷阱

- 過度設計：不要預測不存在的需求
- 參數過多：超過 3 個考慮用配置對象
- 返回值不一致：相似操作應返回相似結果
- 忽視錯誤處理：錯誤也是 API 的一部分

讓我們一起設計優雅的 API！