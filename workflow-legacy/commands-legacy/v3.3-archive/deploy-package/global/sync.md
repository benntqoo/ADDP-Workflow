---
arguments: none
---

# 狀態同步器 - 恢復工作上下文

新會話開始時，我將幫你快速恢復到上次的工作狀態：

## 🔄 同步內容

### 1. 自動讀取持久化上下文
**核心文檔**（如不存在會提示創建）：
- `.claude/PROJECT_CONTEXT.md` - 項目基礎信息
- `.claude/DECISIONS.md` - 技術決策記錄
- `.claude/state/last-session.yml` - 上次會話狀態
- `CLAUDE.md` - 項目特定規則

**如果缺少必要文檔**：
- 缺少 PROJECT_CONTEXT.md → 提示使用 `/start`
- 缺少 CLAUDE.md → 提示使用 `/meta`
- 缺少 DECISIONS.md → 自動創建基礎框架

### 2. 檢查項目狀態
```bash
# 自動執行
- git status          # 未提交的更改
- git log -5         # 最近的提交
- 查看最近修改的文件
- 檢查測試狀態
```

### 3. 智能分析工作重點
**從多個數據源綜合分析**：
- 從 git log 提取最近工作內容
- 從 TODO 註釋找出待辦事項
- 從 DECISIONS.md 識別重要決策
- 從最近修改文件推斷當前任務

**智能建議**：
- 根據未完成的工作推薦下一步
- 識別潛在問題和風險
- 提供具體的命令建議

### 4. 生成狀態報告

```markdown
📊 工作狀態同步報告

## 🎯 當前焦點
- 正在開發：[功能名稱]
- 上次進度：[完成情況]
- 待解決：[問題列表]

## 📝 最近變更
- [文件1]：[變更說明]
- [文件2]：[變更說明]

## ⏳ 待辦事項
1. [高優先級任務]
2. [中優先級任務]
3. [低優先級任務]

## 💡 建議行動
基於當前狀態，建議你：
- [具體建議]

## ⚠️ 注意事項
- [需要注意的風險或問題]
```

### 5. 智能提醒
- 是否有未運行的測試
- 是否有未提交的代碼
- 是否有待更新的文檔
- 是否有待處理的 PR 反饋

## 🎯 使用場景

1. **每天開始工作時**
   - 快速恢復昨天的進度
   - 確認今天的任務

2. **中斷後繼續**
   - 會話超時後重新開始
   - 切換設備後繼續工作

3. **任務切換**
   - 從一個功能切換到另一個
   - 處理緊急問題後回到原任務

## 💾 狀態保存

同步器會自動保存：
- 當前任務狀態
- 重要的上下文信息
- 工作進度標記
- 下次需要的信息

## 🔗 命令連動機制

**初始化流程**：
```
/start → /meta → /sync
 創建      定制     同步
 文檔      規範     狀態
```

**日常工作流**：
```
/sync → /plan → [coding] → /learn → /check
 恢復     規劃      實現       記錄      檢查
 狀態     任務                 決策
```

**文檔關係**：
- `/start` 創建 → `/sync` 讀取
- `/learn` 更新 → `/sync` 同步
- `/meta` 定制 → `/sync` 應用

這確保你永遠不會失去工作上下文！